<!DOCTYPE html>
<html>
	<head>
		<title>pdb-edit</title>

		<link rel="stylesheet" href="/style/menu.css" />
		<link rel="stylesheet" href="/style/tabs.css" />
		<link rel="stylesheet" href="/style/editor.css" />
		<link rel="stylesheet" href="/style/statusbar.css" />

		<script src="/js/editor.js"></script>
		<script src="/js/keybinds.js"></script>

		<style>
			html {
				height: 100%;
			}

			body {
				height: 100%;
				margin: 0;
				display: flex;
				flex-direction: column;
			}
		</style>

		<script>
			if (!window.localStorage.getItem("theme")) {
				window.localStorage.setItem("theme", "preferred");
			}

			function selectTheme() {
				document.body.classList += window.localStorage.getItem("theme");
			}

			document.addEventListener("DOMContentLoaded", () => {
				let anchor = document.getElementById("report-bug");
				anchor.href += `&body=Please leave this data at the end of your bug report%0A\`\`\`%0ATime: ${encodeURIComponent(new Date().toUTCString())}%0AUser-Agent: ${encodeURIComponent(navigator.userAgent).replace(/;/g, "%3B")}%0A\`\`\``.replace(/ /g, '+');
			});
		</script>
	</head>
	<body onload="selectTheme();">
		<div id="menu">
			<ul>
				<li>
					<span class="accelerator">F</span>ile
					<ul>
						<li onclick="newFile();"><span class="text"><span class="accelerator">N</span>ew File</span><span class="shortcut" id="New"></span></li>
						<li><span class="text"><span class="accelerator">O</span>pen</span><span class="shortcut" id="Open"></span></li>
						<li><span class="text"><span class="accelerator">S</span>ave</span><span class="shortcut" id="Save"></span></li>
						<li class="separator"></li>
						<li><span class="text"><span class="accelerator">P</span>references</span></li>
					</ul>
				</li>
				<li>
					<span class="accelerator">E</span>dit
					<ul>
						<li><span class="text"><span class="accelerator">U</span>ndo</span><span class="shortcut" id="Undo"></span></li>
						<li><span class="text"><span class="accelerator">R</span>edo</span><span class="shortcut" id="Redo"></span></li>
						<li class="separator"></li>
						<li><span class="text">Cu<span class="accelerator">t</span></span><span class="shortcut" id="Cut"></span></li>
						<li><span class="text"><span class="accelerator">C</span>opy</span><span class="shortcut" id="Copy"></span></li>
						<li><span class="text"><span class="accelerator">P</span>aste</span><span class="shortcut"id="Paste"></span></li>
						<li class="separator"></li>
						<li><span class="text"><span class="accelerator">F</span>ind</span><span class="shortcut" id="Find"></span></li>
						<li><span class="text"><span class="accelerator">R</span>eplace</span><span class="shortcut" id="Replace"></span></li>
					</ul>
				</li>
				<li>
					<span class="accelerator">H</span>elp
					<ul>
						<li><span class="text"><span class="accelerator">E</span>ditor Help</span><span class="shortcut" id="Help"></span></li>
						<li><span class="text">PDB <span class="accelerator">F</span>ormat Docs</span></li>
						<li class="separator"></li>
						<li><span class="text"><a id="report-bug" href="https://github.com/cailyn-baksh/pdb-editor/issues/new?title=Bug+Report" target="_blank">Report a <span class="accelerator">B</span>ug</span></a></li>
						<li><span class="text"><a href="https://github.com/cailyn-baksh/pdb-editor" target="_blank"><span class="accelerator">G</span>ithub Repo</span></a></li>
						<li><span class="text"><a href="/LICENSE.txt" target="_blank"><span class="accelerator">L</span>icense</a></span></li>
					</ul>
				</li>
			</ul>
			<div id="menu-end"></div>
		</div>
		<div id="tabs"></div>
		<div id="editor" contenteditable>
			<div class="line" tabindex=0><span>Line 1</span></div>
			<div class="line" tabindex=0><span>Line 2</span></div>
			<div class="line" tabindex=0><span><br></span></div>
		</div>
		<div id="statusbar"></div>
	</body>
</html>

